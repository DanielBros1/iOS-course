////  PaymentViewModel.swift//  stripe////  Created by user279425 on 1/14/26.//import Foundationimport SwiftUIimport Combineimport Stripeimport StripePaymentSheet@MainActorfinal class PaymentViewModel: ObservableObject {    @Published var isProcessing = false    @Published var message: String?    @Published var paymentStatus: PaymentStatus?     @Published var product: Product    private let service = MockPaymentService()    private let store = PaymentStore.shared        var paymentSheet: PaymentSheet?    init(product: Product = Product(name: "Default", price: 0)) {        self.product = product    }    func pay() async {        await buy(product)    }    func buy(_ product: Product) async {        isProcessing = true        message = nil        paymentStatus = .pending        let success = await service.pay(for: product)        isProcessing = false        if success {            store.add(PurchasedItem(product: product))            message = "Zakup zakończony sukcesem!"            paymentStatus = .paid        } else {            message = "Płatność nie powiodła się"            paymentStatus = .failed        }    }}